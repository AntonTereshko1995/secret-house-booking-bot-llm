"""
House Information Context System for LLM-powered FAQ
Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ The Secret House Ð´Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² LLM Ð¿Ñ€Ð¾Ð¼Ð¿Ñ‚Ð°Ñ…
"""

from domain.faq.entities import HouseInformation


class HouseContextBuilder:
    """Builder for house information context used in LLM prompts"""

    def __init__(self):
        self.house_info = self._build_house_information()

    def _build_house_information(self) -> HouseInformation:
        """Build comprehensive house information from user requirements"""
        return HouseInformation(
            location="12 ÐºÐ¼ Ð¾Ñ‚ ÐœÐ¸Ð½ÑÐºÐ° Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð°Ð³Ñ€Ð¾Ð³Ð¾Ñ€Ð¾Ð´Ð¾Ðº Ð Ð°Ñ‚Ð¾Ð¼ÐºÐ°, Ð² Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ð¸ Ð»ÐµÑÐ°, ÑƒÐµÐ´Ð¸Ð½Ñ‘Ð½Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾ Ð±ÐµÐ· Ð¿Ð¾ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½Ð¸Ñ…, Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð°Ñ Ñ‚ÐµÑ€Ñ€Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ ÑƒÑ‡Ð°ÑÑ‚ÐºÐ° Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼Ð¸ Ð²Ð¾Ñ€Ð¾Ñ‚Ð°Ð¼Ð¸",
            rooms={
                "green_bedroom": "ÑÑ‚ÐµÐ½Ñ‹ Ð·ÐµÐ»ÐµÐ½Ð¾Ð³Ð¾ Ñ†Ð²ÐµÑ‚Ð° Ñ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð´ÐµÑ€ÐµÐ²Ð°, Ñ€ÐµÐ³ÑƒÐ»Ð¸Ñ€ÑƒÐµÐ¼Ð°Ñ Ð¿Ð¾Ð´ÑÐ²ÐµÑ‚ÐºÐ° Ð¿Ð¾ Ð¿ÐµÑ€Ð¸Ð¼ÐµÑ‚Ñ€Ñƒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹, ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð°Ñ ÐºÑ€Ð¾Ð²Ð°Ñ‚ÑŒ 2 Ð½Ð° 2.20 Ð¼ÐµÑ‚Ñ€Ð° Ð¸Ð· ÑÐ¾Ð²ÐµÑ‚ÑÐºÐ¸Ñ… Ñ‚Ñ€ÑƒÐ± Ð¸ ÐºÑ€ÐµÑÐ»Ð¾ Ð´Ð»Ñ Ñ„Ð¸ÐºÑÐ°Ñ†Ð¸Ð¸ Ñ€ÑƒÐº Ð¸ Ð½Ð¾Ð³ Turtur Chair Ð´Ð»Ñ Ð‘Ð”Ð¡Ðœ Ð¸Ð³Ñ€, Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð°ÐºÑÐµÑÑÑƒÐ°Ñ€Ñ‹ Ð´Ð»Ñ ÑÐµÐºÑÐ°",
                "white_bedroom": "ÑÑ‚ÐµÐ½Ñ‹ Ð±ÐµÐ»Ð¾Ð³Ð¾ Ñ†Ð²ÐµÑ‚Ð° Ñ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð´ÐµÑ€ÐµÐ²Ð°, ÐºÐ°ÑÑ‚Ð¾Ð¼Ð½Ð°Ñ Ð´ÐµÑ€ÐµÐ²ÑÐ½Ð½Ð°Ñ ÐºÑ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² ÑÑ€ÐµÐ´Ð½ÐµÐ²ÐµÐºÐ¾Ð²Ð¾Ð¼ ÑÑ‚Ð¸Ð»Ðµ Ñ Ð´ÐµÑ€ÐµÐ²ÑÐ½Ð½Ð¾Ð¹ ÐºÐ¾Ð»Ð¾Ð´ÐºÐ¾Ð¹ Ð´Ð»Ñ Ñ€ÑƒÐº Ð¸ ÑˆÐµÐ¸, Ð² ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ Ð½Ð° ÑÑ‚ÐµÐ½Ðµ ÐµÑÑ‚ÑŒ Ð·ÐµÑ€ÐºÐ°Ð»Ð°, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¿Ð¾Ð´ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ Ð·Ð° Ð²ÑÐµÐ¼ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð¼, Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð°ÐºÑÐµÑÑÑƒÐ°Ñ€Ñ‹ Ð´Ð»Ñ ÑÐµÐºÑÐ°",
                "kitchen": "Ñ…Ð¾Ð»Ð¾Ð´Ð¸Ð»ÑŒÐ½Ð¸Ðº, Ð¿Ð¾ÑÑƒÐ´Ð¾Ð¼Ð¾Ð¹ÐºÐ°, Ð´ÑƒÑ…Ð¾Ð²ÐºÐ°, Ð¿Ð»Ð¸Ñ‚Ð°, Ð²Ð¾Ð´Ð° Ð¸Ð· Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°, ÐºÐ¾Ñ„Ðµ Ð¼Ð°ÑˆÐ¸Ð½Ð°, Ð¿Ð¾ÑÑƒÐ´Ð°, Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð±Ð¾ÐºÐ°Ð»Ñ‹, Ð¾ÑÑ‚Ñ€Ð¾Ð² Ð² Ñ†ÐµÐ½Ñ‚Ñ€Ðµ ÐºÑƒÑ…Ð½Ð¸, Ð½Ð° ÐºÑƒÑ…Ð½Ðµ ÐµÑÑ‚ÑŒ Ð¿ÐµÑ€ÐµÑ†, ÑÐ¾Ð»ÑŒ Ð¸ Ð¾Ð»Ð¸Ð²ÐºÐ¾Ð²Ð¾Ðµ Ð¼Ð°ÑÐ»Ð¾",
                "living_room": "Ñ‚Ð°Ð½Ñ‚Ñ€Ð° ÐºÑ€ÐµÑÐ»Ð¾, ÐºÐ°Ð¼Ð¸Ð½, Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€, ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ Ð¼ÑƒÐ·Ñ‹ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚ÑƒÑ€Ð° Ð½Ð° 300 Ð²Ð°Ñ‚, Ð²Ñ‹Ñ…Ð¾Ð´ Ð½Ð° Ñ‚ÐµÑ€Ñ€Ð°ÑÑƒ, Ð³Ð¾ÑÑ‚Ð¸Ð½Ð°Ñ Ð·Ð¾Ð½Ð° ÑÐ¾Ð²Ð¼ÐµÑ‰ÐµÐ½Ð½Ð°Ñ Ñ ÐºÑƒÑ…Ð½ÐµÐ¹",
                "sauna": "ÑÑƒÑ…Ð°Ñ ÑÐ°ÑƒÐ½Ð° Ñ ÑÐ»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ð¼ Ð¾Ñ‚Ð¾Ð¿Ð»ÐµÐ½Ð¸ÐµÐ¼, Ð¿Ð°Ð½Ð¾ Ð¸Ð· Ð¼Ð¾Ð¶ÐµÐ²ÐµÐ»ÑŒÐ½Ð¸ÐºÐ°, Ñ€Ð°ÑÐ¿Ð¾Ð»Ð°Ð³Ð°ÐµÑ‚ÑÑ 4 Ñ‡ÐµÐ»Ð¾Ð²ÐµÐºÐ°",
                "bathrooms": "Ð½Ð° ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÑÑ‚Ð°Ð¶Ðµ Ð¿Ð¾ Ð²Ð°Ð½Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ. Ð½Ð° Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð´ÑƒÑˆ, Ð° Ð½Ð° Ð²Ñ‚Ð¾Ñ€Ð¾Ð¼ ÑƒÐ´Ð¾Ð±Ð½Ð°Ñ Ð²Ð°Ð½Ð½Ð°Ñ, Ð³ÐµÐ»ÑŒ Ð´Ð»Ñ Ð´ÑƒÑˆÐ°, ÑˆÐ°Ð¼Ð¿ÑƒÐ½ÑŒ, ÐºÐ¾Ð½Ð´Ð¸Ñ†Ð¸Ð¾Ð½ÐµÑ€, Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†Ðµ Ð´Ð»Ñ Ñ€ÑƒÐº, Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†Ðµ Ð´Ð»Ñ Ð½Ð¾Ð³, Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð³Ð¾ÑÑ‚Ñ ÐµÑÑ‚ÑŒ Ñ…Ð°Ð»Ð°Ñ‚ Ð¸ Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†Ðµ Ð´Ð»Ñ Ñ‚ÐµÐ»Ð°",
                "secret_room": "ÐžÑÐ½Ð°Ñ‰ÐµÐ½Ð° ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼ÐµÐ±ÐµÐ»ÑŒÑŽ Ð¸ Ð°ÐºÑÐµÑÑÑƒÐ°Ñ€Ð°Ð¼Ð¸ Ð´Ð»Ñ Ð²Ð·Ñ€Ð¾ÑÐ»Ñ‹Ñ…, Ð°Ð½Ð´Ñ€ÐµÐµÐ²ÑÐºÐ¸Ð¹ ÐºÑ€ÐµÑÑ‚, Ð»Ð¾Ð²ÑƒÑˆÐºÐ° tarantul, Ð±Ð¾Ð½Ð´Ð°Ð¶Ð½Ñ‹Ð¹ ÐºÐ¾Ð·ÐµÐ», oral table Ð¸ Ñ€Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð°ÐºÑÐµÑÑÑƒÐ°Ñ€Ñ‹, Ð¿Ð¾Ð´ÑÐ²ÐµÑ‚ÐºÐ° Ð¿Ð¾ Ð¿ÐµÑ€Ð¸Ð¼ÐµÑ‚Ñ€Ñƒ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹, Ð·ÐµÑ€ÐºÐ°Ð»ÑŒÐ½Ð°Ñ ÑÑ‚ÐµÐ½Ð° Ð¸ Ð¿Ð¾Ñ‚Ð¾Ð»Ð¾Ðº",
                "bbq_area": "Ñ€ÑÐ´Ð¾Ð¼ Ñ Ñ‚ÐµÑ€Ñ€Ð°ÑÐ¾Ð¹ ÐµÑÑ‚ÑŒ bbq Ð·Ð¾Ð½Ð° Ñ Ð¼Ð°Ð½Ð³Ð°Ð»Ð¾Ð¼, Ñ€ÐµÑˆÐµÑ‚ÐºÐ¾Ð¹ Ð¸ ÑˆÐ°Ð¼Ð¿ÑƒÑ€Ð°Ð¼Ð¸. Ð¢Ð°Ðº Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð´Ñ€Ð¾Ð²Ð° Ð´Ð»Ñ ÐºÐ°Ð¼Ð¸Ð½Ð° Ð¸ Ð¼Ð°Ð½Ð³Ð°Ð»Ð°",
            },
            amenities={
                "design": "Ð´Ð²Ðµ Ð³Ñ€Ð°Ñ„Ñ„Ð¸Ñ‚Ð¸ Ð² ÑÑ‚Ð¸Ð»Ðµ Ð‘ÑÐ½ÐºÑÐ¸, ÐºÐ°Ñ€Ñ‚Ð¸Ð½Ñ‹ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ñ…ÑƒÐ´Ð¾Ð¶Ð½Ð¸ÐºÐ¾Ð² Ð¿Ð¾ Ð²ÑÐµÐ¼Ñƒ Ð´Ð¾Ð¼Ñƒ, Ð°Ñ€Ñ‚-Ð¾Ð±ÑŠÐµÐºÑ‚Ñ‹, Ð³ÐµÐ¾Ð¼ÐµÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ñ‹ ÑÑ‚ÐµÐ½Ñ‹ Ð² ÐºÐ¾Ñ€Ð¸Ð´Ð¾Ñ€Ð°Ñ…",
                "guest_kit": "ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ Ð³Ð¾ÑÑ‚ÑŽ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ: Ñ…Ð°Ð»Ð°Ñ‚, Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†Ðµ, Ð³Ð¸Ð³Ð¸ÐµÐ½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð½Ð°Ð±Ð¾Ñ€, Ð¾Ð´Ð½Ð¾Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ Ð·ÑƒÐ±Ð½Ð°Ñ Ñ‰ÐµÑ‚ÐºÐ° Ð¸ Ð¿Ð°ÑÑ‚Ð°, Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†Ðµ Ð´Ð»Ñ Ñ‚ÐµÐ»Ð°, Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†Ðµ Ð´Ð»Ñ Ñ€ÑƒÐº, Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†Ðµ Ð´Ð»Ñ Ð½Ð¾Ð³, Ð¿Ñ€Ð¾ÑÑ‚Ñ‹Ð½ÑŒ Ð² ÑÐ°ÑƒÐ½Ñƒ",
                "cleaning": "ÑƒÐ±Ð¾Ñ€ÐºÐ° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°, Ð½Ð° ÑƒÐ±Ð¾Ñ€ÐºÑƒ Ñ‚Ñ€Ð°Ñ‚Ð¸Ñ‚ÑÑ 2-3 Ñ‡Ð°ÑÐ°, Ð´Ð¸Ð·Ð¸Ð½Ñ„ÐµÐºÑ†Ð¸Ñ Ð²ÑÐµÑ… ÐºÐ¾Ð¶Ð°Ð½Ñ‹Ñ… Ð¸Ð·Ð´ÐµÐ»Ð¸Ð¹, ÐºÐ²Ð°Ñ€Ñ†ÐµÐ²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð¼ÐµÑ‰ÐµÐ½Ð¸Ð¹, Ð²Ð»Ð°Ð¶Ð½Ð°Ñ ÑƒÐ±Ð¾Ñ€ÐºÐ° Ð´Ð¾Ð¼Ð°, Ð·Ð°Ð¼ÐµÐ½Ð° Ð¿Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð±ÐµÐ»ÑŒÑ Ð¸ Ð¿Ð¾Ð»Ð¾Ñ‚ÐµÐ½Ñ†ÐµÐ²",
                "check_in": "Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð±ÐµÐ· Ð»Ð¸ÑˆÐ½Ð¸Ñ… Ð»Ð¸Ñ†, ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾. Ð—Ð° 1 Ð´ÐµÐ½ÑŒ Ð´Ð¾ Ð±Ñ€Ð¾Ð½Ð¸ Ð¼Ñ‹ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ð¼ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚ Ð´Ð¾ Ð´Ð¾Ð¼Ð° Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð¾Ñ‚ ÐºÐ»ÑŽÑ‡Ð½Ð¸Ñ†Ñ‹",
            },
            tariffs=[
                {
                    "name": "Ð¢ÐÐ Ð˜Ð¤ 'Ð¡Ð£Ð¢ÐžÐ§ÐÐž ÐžÐ¢ 3 Ð§Ð•Ð›ÐžÐ’Ð•Ðš'",
                    "prices": {
                        "1 Ð´ÐµÐ½ÑŒ": "700 BYN",
                        "2 Ð´Ð½Ñ": "1300 BYN",
                        "3 Ð´Ð½Ñ": "1800 BYN",
                    },
                    "extras": {"Ð¡Ð°ÑƒÐ½Ð°": "100 BYN", "Ð¤Ð¾Ñ‚Ð¾ÑÐµÑÑÐ¸Ñ": "100 BYN"},
                    "features": [
                        "Ð”Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²ÑÐµÐ¼ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°Ð¼ Ð´Ð¾Ð¼Ð°",
                        "ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾ÑÑ‚ÐµÐ¹ â€” 6",
                        "Ð¡Ð²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð·Ð°ÐµÐ·Ð´Ð°",
                    ],
                    "bonus": "ÐŸÑ€Ð¸ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð¾Ñ‚ 2 Ð´Ð½ÐµÐ¹ â€” Ð´Ð°Ñ€Ð¸Ð¼ 12 Ñ‡Ð°ÑÐ¾Ð² Ð² Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº Ð¿Ñ€Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸!",
                },
                {
                    "name": "Ð¢ÐÐ Ð˜Ð¤ 'Ð¡Ð£Ð¢ÐžÐ§ÐÐž Ð”Ð›Ð¯ ÐŸÐÐ '",
                    "prices": {
                        "1 Ð´ÐµÐ½ÑŒ": "500 BYN",
                        "2 Ð´Ð½Ñ": "900 BYN",
                        "3 Ð´Ð½Ñ": "1200 BYN",
                    },
                    "extras": {"Ð¡Ð°ÑƒÐ½Ð°": "100 BYN", "Ð¤Ð¾Ñ‚Ð¾ÑÐµÑÑÐ¸Ñ": "100 BYN"},
                    "features": [
                        "Ð”Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²ÑÐµÐ¼ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°Ð¼ Ð´Ð¾Ð¼Ð°",
                        "ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾ÑÑ‚ÐµÐ¹ â€” 2",
                        "Ð¡Ð²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð·Ð°ÐµÐ·Ð´Ð°",
                    ],
                    "bonus": "ÐŸÑ€Ð¸ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð¾Ñ‚ 2 Ð´Ð½ÐµÐ¹ â€” Ð´Ð°Ñ€Ð¸Ð¼ 12 Ñ‡Ð°ÑÐ¾Ð² Ð² Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº Ð¿Ñ€Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸!",
                },
                {
                    "name": "Ð¢ÐÐ Ð˜Ð¤ '12 Ð§ÐÐ¡ÐžÐ’'",
                    "price": "250 BYN",
                    "extras": {
                        "Ð”Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÐ¿Ð°Ð»ÑŒÐ½Ðµ": "70 BYN",
                        "Ð¡ÐµÐºÑ€ÐµÑ‚Ð½Ð°Ñ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°": "70 BYN",
                        "Ð¡Ð°ÑƒÐ½Ð°": "100 BYN",
                        "Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ 1 Ñ‡Ð°Ñ": "30 BYN",
                    },
                    "features": [
                        "Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð¾Ð´Ð½Ñƒ ÑÐ¿Ð°Ð»ÑŒÐ½ÑŽ Ð½Ð° Ð²Ñ‹Ð±Ð¾Ñ€",
                        "ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾ÑÑ‚ÐµÐ¹ â€” 2",
                        "Ð¡Ð²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð·Ð°ÐµÐ·Ð´Ð°",
                    ],
                },
                {
                    "name": "Ð¢ÐÐ Ð˜Ð¤ 'Ð ÐÐ‘ÐžÐ§Ð˜Ð™' (Ñ Ð¿Ð¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸ÐºÐ° Ð¿Ð¾ Ñ‡ÐµÑ‚Ð²ÐµÑ€Ð³)",
                    "price": "180 BYN",
                    "extras": {
                        "Ð”Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ ÑÐ¿Ð°Ð»ÑŒÐ½Ðµ": "50 BYN",
                        "Ð¡ÐµÐºÑ€ÐµÑ‚Ð½Ð°Ñ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°": "50 BYN",
                        "Ð¡Ð°ÑƒÐ½Ð°": "100 BYN",
                        "Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ 1 Ñ‡Ð°Ñ": "30 BYN",
                    },
                    "features": [
                        "Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð¾Ð´Ð½Ñƒ ÑÐ¿Ð°Ð»ÑŒÐ½ÑŽ Ð½Ð° Ð²Ñ‹Ð±Ð¾Ñ€",
                        "ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾ÑÑ‚ÐµÐ¹ â€” 2",
                        "Ð‘Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ: Ñ 11:00 Ð´Ð¾ 20:00 Ð¸Ð»Ð¸ Ñ 22:00 Ð´Ð¾ 09:00",
                    ],
                },
                {
                    "name": "Ð¢ÐÐ Ð˜Ð¤ 'Ð˜ÐÐšÐžÐ“ÐÐ˜Ð¢Ðž' (VIP-Ð¾Ð¿Ñ†Ð¸Ñ)",
                    "prices": {"Ð¡ÑƒÑ‚ÐºÐ¸": "900 BYN", "12 Ñ‡Ð°ÑÐ¾Ð²": "600 BYN"},
                    "features": [
                        "Ð”Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²ÑÐµÐ¼ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°Ð¼ Ð´Ð¾Ð¼Ð°",
                        "Ð‘ÐµÐ· Ð·Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð°",
                        "ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð²Ð½ÐµÑˆÐ½Ð¸Ñ… ÐºÐ°Ð¼ÐµÑ€ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð¿ÐµÑ€Ð¸Ð¼ÐµÑ‚Ñ€Ñƒ Ð´Ð¾Ð¼Ð°",
                    ],
                    "gifts": [
                        "Ð¢Ñ€Ð°Ð½ÑÑ„ÐµÑ€ Ð¾Ñ‚/Ð´Ð¾ Ð´Ð¾Ð¼Ð° Ð½Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»Ðµ Ð±Ð¸Ð·Ð½ÐµÑ-ÐºÐ»Ð°ÑÑÐ°",
                        "Ð‘ÑƒÑ‚Ñ‹Ð»ÐºÐ° Ð²Ð¸Ð½Ð°, Ð»Ñ‘Ð³ÐºÐ¸Ðµ Ð·Ð°ÐºÑƒÑÐºÐ¸ Ð¸ ÑÐ°ÑƒÐ½Ð°",
                        "Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°Ñ Ñ„Ð¾Ñ‚Ð¾ÑÐµÑÑÐ¸Ñ Ð¿Ñ€Ð¸ Ð°Ñ€ÐµÐ½Ð´Ðµ Ð½Ð° ÑÑƒÑ‚ÐºÐ¸ (2 Ñ‡Ð°ÑÐ°, Ð±Ñ€Ð¾Ð½ÑŒ Ð·Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ)",
                    ],
                },
                {
                    "name": "ÐÐ±Ð¾Ð½ÐµÐ¼ÐµÐ½Ñ‚ Ð½Ð° 3 Ð¿Ð¾ÑÐµÑ‰ÐµÐ½Ð¸Ñ",
                    "price": "680 BYN",
                    "duration": "12 Ñ‡Ð°ÑÐ¾Ð²",
                    "extras": {"Ð¡Ð°ÑƒÐ½Ð°": "100 BYN", "Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ 1 Ñ‡Ð°Ñ": "30 BYN"},
                    "features": ["ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾ÑÑ‚ÐµÐ¹ â€” 3"],
                },
                {
                    "name": "ÐÐ±Ð¾Ð½ÐµÐ¼ÐµÐ½Ñ‚ Ð½Ð° 5 Ð¿Ð¾ÑÐµÑ‰ÐµÐ½Ð¸Ð¹",
                    "price": "1000 BYN",
                    "duration": "12 Ñ‡Ð°ÑÐ¾Ð²",
                    "extras": {"Ð¡Ð°ÑƒÐ½Ð°": "100 BYN", "Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ 1 Ñ‡Ð°Ñ": "30 BYN"},
                    "features": ["ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾ÑÑ‚ÐµÐ¹ â€” 3"],
                },
                {
                    "name": "ÐÐ±Ð¾Ð½ÐµÐ¼ÐµÐ½Ñ‚ Ð½Ð° 8 Ð¿Ð¾ÑÐµÑ‰ÐµÐ½Ð¸Ð¹",
                    "price": "1600 BYN",
                    "duration": "12 Ñ‡Ð°ÑÐ¾Ð²",
                    "extras": {"Ð¡Ð°ÑƒÐ½Ð°": "100 BYN", "Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ 1 Ñ‡Ð°Ñ": "30 BYN"},
                    "features": ["ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾ÑÑ‚ÐµÐ¹ â€” 3"],
                },
            ],
            policies={
                "contract": "Ð·Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð° Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ (ÐºÑ€Ð¾Ð¼Ðµ Ñ‚Ð°Ñ€Ð¸Ñ„Ð° Ð˜Ð½ÐºÐ¾Ð³Ð½Ð¸Ñ‚Ð¾)",
                "payment": "Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ð½Ð°Ð»Ð¸Ñ‡ÐºÐ¾Ð¹ Ð¸Ð»Ð¸ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¾Ð¼ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ñƒ. Ð¼Ñ‹ Ð±ÐµÑ€ÐµÐ¼ 80 Ñ€ÑƒÐ±Ð»ÐµÐ¹ Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ Ð¿Ñ€ÐµÐ´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ð¾Ð¼ Ð¿Ð¾ ÐºÐ°Ñ€Ñ‚Ðµ. ÐŸÐ¾ÑÐ»Ðµ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð´ÐµÐ½ÐµÐ³, Ð¼Ñ‹ Ð²Ð½Ð¾ÑÐ¸Ð¼ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð² ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ",
                "security": "Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ñ‹ ÐºÐ°Ð¼ÐµÑ€Ñ‹ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð¿ÐµÑ€Ð¸Ð¼ÐµÑ‚Ñ€Ñƒ Ð´Ð¾Ð¼Ð°. Ð”Ð»Ñ Ñ‚Ð°Ñ€Ð¸Ñ„Ð° Ð˜Ð½ÐºÐ¾Ð³Ð½Ð¸Ñ‚Ð¾ Ð¾Ð½Ð¸ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°ÑŽÑ‚ÑÑ",
                "certificates": "Ð“Ð¾ÑÑ‚Ð¸ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¿Ñ€Ð¸Ð¾Ð±Ñ€ÐµÑÑ‚Ð¸ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚ Ð¿Ð¾ Ð»ÑŽÐ±Ð¾Ð¼Ñƒ Ð¸Ð· Ñ‚Ð°Ñ€Ð¸Ñ„Ð¾Ð² Ð´Ð»Ñ Ð¾Ñ‚Ð´Ñ‹Ñ…Ð° Ð² Ð´Ð¾Ð¼Ðµ",
            },
            contact_info={
                "admin_telegram": "@the_secret_house",
                "photos_link": "https://drive.google.com/drive/u/2/folders/14x2AMnkZJ8rgKa94U973CmMKWXa6feRw",
                "booking_instruction": "Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼ Ð±Ð¾Ñ‚Ðµ Ð² Ð¿ÑƒÐ½ÐºÑ‚ Ð¼ÐµÐ½ÑŽ 'Ð—Ð°Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ' Ð¸ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ñ„Ð¾Ñ€Ð¼Ñƒ",
                "availability_check": "Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ñ…Ð¾Ñ‡ÐµÑ‚ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ñ‚Ñ‹ Ð² Ð´Ð¾Ð¼Ðµ, Ñ‚Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐ¹ ÐµÐ³Ð¾ Ð² Ð¿ÑƒÐ½ÐºÑ‚ Ð¼ÐµÐ½ÑŽ 'Ð¡Ð²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ñ‚Ð°' Ð² Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼ Ð±Ð¾Ñ‚Ðµ",
                "certificates_purchase": "Ð”Ð»Ñ Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð° Ð½ÑƒÐ¶Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ð¼ÐµÐ½ÑŽ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼ Ð±Ð¾Ñ‚Ð° Ð¸ Ð²Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ð¿ÑƒÐ½ÐºÑ‚ 'ÐŸÑ€Ð¸Ð¾Ð±Ñ€ÐµÑÑ‚Ð¸ Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¹ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚'",
            },
        )

    def build_system_prompt(self) -> str:
        """Build comprehensive system prompt with house information"""
        return f"""Ð¢Ñ‹ â€” Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚ The Secret House, ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð·Ð°Ð³Ð¾Ñ€Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð´Ð¾Ð¼Ð° Ñ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼ Ð¸ÑÐºÑƒÑÑÑ‚Ð²Ð¾Ð¼, ÑÑ‚Ð¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð¸Ð½Ñ‚ÐµÑ€ÑŒÐµÑ€Ð°Ð¼Ð¸ Ð¸ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Â«ÑÐµÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð¾Ð¹Â» Ð² ÑÑ‚Ð¸Ð»Ðµ Ð‘Ð”Ð¡Ðœ. Ð¢Ð²Ð¾Ñ Ð·Ð°Ð´Ð°Ñ‡Ð° â€” Ð¾Ñ‚Ð²ÐµÑ‡Ð°Ñ‚ÑŒ Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð², Ð¿Ð¾Ð¼Ð¾Ð³Ð°Ñ Ð¸Ð¼ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¾ Ð´Ð¾Ð¼Ðµ, ÑƒÑÐ»Ð¾Ð²Ð¸ÑÑ… Ð°Ñ€ÐµÐ½Ð´Ñ‹, Ñ‚Ð°Ñ€Ð¸Ñ„Ð°Ñ… Ð¸ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑƒÑÐ»ÑƒÐ³Ð°Ñ…. Ð¢Ñ‹ Ñ‡Ð°ÑÑ‚ÑŒ Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼ Ð±Ð¾Ñ‚Ð°: Ñ‚Ð°Ð¼ ÐµÑÑ‚ÑŒ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» Ð¿Ð¾ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÑŽ Ð´Ð¾Ð¼Ð°. ÐÐ° ÑÑ‚Ð¾Ñ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð» Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð´Ð»Ñ Ð±Ñ€Ð¾Ð½Ð¸.

Ð˜ÐÐ¤ÐžÐ ÐœÐÐ¦Ð˜Ð¯ Ðž Ð”ÐžÐœÐ•:

Ð›ÐžÐšÐÐ¦Ð˜Ð¯:
{self.house_info.location}

ÐšÐžÐœÐÐÐ¢Ð«:
ðŸ› Ð—ÐµÐ»ÐµÐ½Ð°Ñ ÑÐ¿Ð°Ð»ÑŒÐ½Ñ: {self.house_info.rooms["green_bedroom"]}

ðŸ› Ð‘ÐµÐ»Ð°Ñ ÑÐ¿Ð°Ð»ÑŒÐ½Ñ: {self.house_info.rooms["white_bedroom"]}

ðŸ½ ÐšÑƒÑ…Ð½Ñ: {self.house_info.rooms["kitchen"]}

ðŸ›‹ Ð“Ð¾ÑÑ‚Ð¸Ð½Ð°Ñ: {self.house_info.rooms["living_room"]}

ðŸ§–â€â™€ï¸ Ð¡Ð°ÑƒÐ½Ð°: {self.house_info.rooms["sauna"]}

ðŸš¿ Ð’Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹: {self.house_info.rooms["bathrooms"]}

ðŸ”¥ Ð¡ÐµÐºÑ€ÐµÑ‚Ð½Ð°Ñ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ð°: {self.house_info.rooms["secret_room"]}

ðŸ”¥ BBQ Ð·Ð¾Ð½Ð°: {self.house_info.rooms["bbq_area"]}

Ð”Ð˜Ð—ÐÐ™Ð Ð˜ Ð£Ð”ÐžÐ‘Ð¡Ð¢Ð’Ð:
{self.house_info.amenities["design"]}

Ð“ÐžÐ¡Ð¢Ð•Ð’ÐžÐ™ ÐÐÐ‘ÐžÐ :
{self.house_info.amenities["guest_kit"]}

Ð¢ÐÐ Ð˜Ð¤Ð«:
{self._format_tariffs()}

ÐŸÐ ÐÐ’Ð˜Ð›Ð Ð˜ Ð£Ð¡Ð›ÐžÐ’Ð˜Ð¯:
â€¢ Ð”Ð¾Ð³Ð¾Ð²Ð¾Ñ€: {self.house_info.policies["contract"]}
â€¢ ÐžÐ¿Ð»Ð°Ñ‚Ð°: {self.house_info.policies["payment"]}
â€¢ Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ: {self.house_info.policies["security"]}
â€¢ Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹: {self.house_info.policies["certificates"]}

Ð£Ð‘ÐžÐ ÐšÐ:
{self.house_info.amenities["cleaning"]}

Ð—ÐÐ¡Ð•Ð›Ð•ÐÐ˜Ð•:
{self.house_info.amenities["check_in"]}

Ð¢Ð’ÐžÐ¯ Ð ÐžÐ›Ð¬:
- Ð‘ÑƒÐ´ÑŒ Ð´Ñ€ÑƒÐ¶ÐµÐ»ÑŽÐ±Ð½Ñ‹Ð¼, ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¼ Ð¸ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾ Ð¸Ð³Ñ€Ð¸Ð²Ñ‹Ð¼, Ð½Ð¾ Ð²ÑÐµÐ³Ð´Ð° ÑƒÐ²Ð°Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼
- ÐŸÐ¾Ð´Ñ‡Ñ‘Ñ€ÐºÐ¸Ð²Ð°Ð¹ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾ÑÑ‚ÑŒ, ÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚ Ð¸ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð°Ñ‚Ð¼Ð¾ÑÑ„ÐµÑ€Ñ‹ Ð´Ð¾Ð¼Ð°
- ÐžÑ‚Ð²ÐµÑ‡Ð°Ð¹ Ð¢ÐžÐ›Ð¬ÐšÐž Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- ÐŸÑ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÑÐ¹ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼ Ð±Ð¾Ñ‚Ð°

Ð¤Ð£ÐÐšÐ¦Ð˜Ð˜ Ð‘ÐžÐ¢Ð:
- Ð”Ð»Ñ Ð±Ñ€Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ: "{self.house_info.contact_info["booking_instruction"]}"
- Ð”Ð»Ñ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ñ‚: "{self.house_info.contact_info["availability_check"]}"
- Ð”Ð»Ñ ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ð¾Ð²: "{self.house_info.contact_info["certificates_purchase"]}"
- Ð”Ð»Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°: "{self.house_info.contact_info["admin_telegram"]}"
- Ð¤Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ð¸ Ð´Ð¾Ð¼Ð°: {self.house_info.contact_info["photos_link"]}

Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚ÑÑ Ñ†ÐµÐ½Ð°Ð¼Ð¸, Ñ‚Ð°Ñ€Ð¸Ñ„Ð°Ð¼Ð¸ Ð¸Ð»Ð¸ ÑƒÑÐ»ÑƒÐ³Ð°Ð¼Ð¸, Ð´Ð°Ð²Ð°Ð¹ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ. Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾ÑÐ¸Ñ‚ ÑÐ¾Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸ÑŽ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð² Ð´Ð¾Ð¼Ðµ, Ð¿Ñ€ÐµÐ´Ð»Ð°Ð³Ð°Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸ÐµÐ² Ð¾Ñ‚Ð´Ñ‹Ñ…Ð°.

Ð•ÑÐ»Ð¸ Ð½Ðµ Ð·Ð½Ð°ÐµÑˆÑŒ Ð¾Ñ‚Ð²ÐµÑ‚ Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾Ñ, Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ðº Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ {self.house_info.contact_info["admin_telegram"]}.
"""

    def _format_tariffs(self) -> str:
        """Format tariffs for system prompt"""
        tariff_text = ""
        for tariff in self.house_info.tariffs:
            tariff_text += f"\nðŸ“Œ {tariff['name']}\n"

            if "prices" in tariff:
                for duration, price in tariff["prices"].items():
                    tariff_text += f"âœ” {duration} â€” {price}\n"
            elif "price" in tariff:
                tariff_text += f"âœ” {tariff['price']}\n"

            if "extras" in tariff:
                tariff_text += "Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾:\n"
                for service, price in tariff["extras"].items():
                    tariff_text += f"{service} â€” {price}\n"

            if "features" in tariff:
                for feature in tariff["features"]:
                    tariff_text += f"- {feature}\n"

            if "bonus" in tariff:
                tariff_text += f"Ð‘Ð¾Ð½ÑƒÑ: {tariff['bonus']}\n"

            if "gifts" in tariff:
                tariff_text += "ÐŸÐ¾Ð´Ð°Ñ€ÐºÐ¸:\n"
                for gift in tariff["gifts"]:
                    tariff_text += f" {gift}\n"

            tariff_text += "\n"

        return tariff_text.strip()

    def get_house_information(self) -> HouseInformation:
        """Get structured house information"""
        return self.house_info
